<!DOCTYPE html>
<html lang='en'>
  <head>
    {% block head %}
    <!--Getting the Manrope font from google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">

    <meta charset='UTF-8'name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{% block title %}base{% endblock %}</title> <!--title can be changed in inherited pages-->
    <link rel="stylesheet" href="../static/base.css"/>
    <link rel="stylesheet" href="../static/components.css"/>
    <link rel="stylesheet" href="../static/basePage.css"/>
    <link rel="icon" type="image/png" href="../static/FPWT_images/planeSillouette.png">
    <script type="module" src="../static/basePage.js" defer></script>

    <!--OG formatting for social media and search engines-->
    <meta property="og:title" content="AIVFR - AI Assisted Flight Planning">
    <meta property="og:description" content="An experimental AI-Assisted flight planning webtool for pilots flying VFR in the UK.">
    <meta property="og:image" content="https://www.aivfr.co.uk/static/FPWT_images/logoAIVFR.png">
    <meta property="og:url" content="{{ request.url }}>
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:site_name" content="AIVFR">

    {% endblock %}
  </head>
  
  <body class="{{ 'dark-mode' if settings.theme == 'dark' else '' }}">
    <header>
         <div>
          <!--Logo-->
          <span id="logoAI">AI</span>
          <span id="logoVFR">VFR</span>
        </div>

        <!--time-->
        <div>
          <p>UTC <strong><span id="timeUTC"></span></strong>  |  LOCAL <strong><span id="timeLOC"></span></strong></p>
        </div>

       <!--home button-->
       <div>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" onclick="window.open('/', '_self')" style="cursor: pointer;" id="homeButton" id="Layer_1" style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve"><defs><style>.cls-1{fill:none;}</style></defs><path d="M21.146,8.576l-7.55-6.135c-0.925-0.751-2.267-0.751-3.192,0c0,0,0,0,0,0L2.855,8.575C2.59,8.79,2.439,9.108,2.439,9.448  v11.543c0,0.62,0.505,1.13,1.125,1.13h5.062c0.62,0,1.125-0.51,1.125-1.13v-7.306h4.499v7.306c0,0.62,0.505,1.13,1.125,1.13h5.062  c0.62,0,1.125-0.51,1.125-1.13V9.448C21.561,9.108,21.41,8.79,21.146,8.576z M20.436,20.997h-5.062V13.68  c0-0.62-0.505-1.119-1.125-1.119H9.75c-0.62,0-1.125,0.499-1.125,1.119v7.317H3.564V9.448l7.55-6.134  c0.513-0.418,1.26-0.417,1.773,0l7.55,6.134V20.997z"/></svg>
        </div>
    </header>
    <!--Navigation bar-->
    <nav>
        <ul id="navbar">
          <!--dashboard--><li><button id="dashboard" class="navButton"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="icon" viewBox="0 0 24 24" ><path d="M4 13h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1zm-1 7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v4zm10 0a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v7zm1-10h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1z"/></svg></button></li>
          <hr size="3.5" color="#cdcdcd" noshade> 
          <!--Route--><li><button id="route" class="navButton"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" class="icon" id="Layer_1" style="enable-background:new 0 0 128 128;" version="1.1" viewBox="0 0 128 128" xml:space="preserve"><g><path d="M83,125.5l43-22.1V0.5L83,22.5l-39-20L1,24.6v103l43-22.1L83,125.5z M87,29.4l31-15.9v85l-31,15.9V29.4z M48,13.5l31,15.9   v85L48,98.6V13.5z M40,98.6L9,114.5v-85l31-15.9V98.6z"/></g></svg></button></li>
          <!--weather--><li><button id="weather" class="navButton"><svg enable-background="new 0 0 32 32" fill="currentColor" class="icon" id="Outline" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title/><desc/><g><path d="M31,18h-1.382l2.276-4.553c0.155-0.31,0.139-0.678-0.044-0.973S31.347,12,31,12h-3.087   c-0.413-2.851-2.541-5.191-5.366-5.827C21.341,2.507,17.916,0,14,0C9.349,0,5.511,3.546,5.047,8.075C2.19,8.533,0,11.016,0,14   c0,3.309,2.691,6,6,6h7v-2H6c-2.206,0-4-1.794-4-4s1.794-4,4-4c0.552,0,1-0.447,1-1c0-3.859,3.14-7,7-7   c3.219,0,6.011,2.177,6.79,5.292c0.1,0.4,0.436,0.698,0.846,0.75c2.149,0.27,3.836,1.899,4.257,3.958H23   c-0.477,0-0.887,0.337-0.98,0.804L20.98,18H19v2h1.58l-0.561,2.804c-0.059,0.294,0.018,0.599,0.207,0.83   C20.417,23.865,20.7,24,21,24h1.719l-1.688,6.758c-0.116,0.461,0.11,0.94,0.54,1.146C21.708,31.969,21.854,32,22,32   c0.307,0,0.606-0.142,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C31.725,18.214,31.379,18,31,18z M27.149,19.525   C27.332,19.82,27.653,20,28,20h1l-4.829,6.438l0.799-3.196c0.075-0.299,0.008-0.615-0.182-0.857C24.599,22.142,24.308,22,24,22   h-1.78l1.6-8h5.562l-2.276,4.553C26.95,18.862,26.967,19.23,27.149,19.525z"/><rect height="2" transform="matrix(0.5 -0.866 0.866 0.5 -18.6507 17.2322)" width="6.393" x="2.402" y="23.768"/><rect height="2" transform="matrix(0.4999 -0.8661 0.8661 0.4999 -24.8478 17.2345)" width="2" x="1.5" y="29.134"/><rect height="2" transform="matrix(0.5 -0.866 0.866 0.5 -16.1507 21.5623)" width="6.393" x="7.402" y="23.768"/><rect height="2" transform="matrix(0.4999 -0.8661 0.8661 0.4999 -22.3474 21.5649)" width="2" x="6.5" y="29.134"/><rect height="2" transform="matrix(0.4999 -0.8661 0.8661 0.4999 -13.6506 25.8951)" width="6.393" x="12.402" y="23.768"/><rect height="2" transform="matrix(0.4999 -0.8661 0.8661 0.4999 -19.847 25.8952)" width="2" x="11.5" y="29.134"/><rect height="2" width="2" x="15" y="18"/></g></svg></button></li>
          <!--navlog--><li><button id="navlog" class="navButton"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="icon" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 1C4.34314 1 3 2.34315 3 4V20C3 21.6569 4.34315 23 6 23H19C20.6569 23 22 21.6569 22 20V10C22 9.73478 21.8946 9.48043 21.7071 9.29289L13.7071 1.29292C13.6114 1.19722 13.4983 1.1229 13.3753 1.07308C13.2572 1.02527 13.1299 1 13 1H6ZM12 3H6C5.44771 3 5 3.44771 5 4V20C5 20.5523 5.44772 21 6 21H19C19.5523 21 20 20.5523 20 20V11H13C12.4477 11 12 10.5523 12 10V3ZM18.5858 9.00003L14 4.41424V9.00003H18.5858Z"></svg></button></li>
          <!--fuel--><li><button id="fuel" class="navButton"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="icon" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><g id="Layer_1"/><g id="Layer_2"><g><path d="M21.293,8.293l-2,2C19.1055,10.4805,19,10.7349,19,11v6.5c0,0.2759-0.2246,0.5-0.5,0.5S18,17.7759,18,17.5V9.1875    c0-1.7009-1.3422-3.0823-3.0215-3.1707C14.8653,3.7851,13.0298,2,10.7705,2h-4.541C3.8975,2,2,3.897,2,6.229V21    c-0.5527,0-1,0.4478-1,1s0.4473,1,1,1h1h11h1c0.5527,0,1-0.4478,1-1s-0.4473-1-1-1V8.0379c0.5626,0.0933,1,0.5613,1,1.1496V17.5    c0,1.3784,1.1211,2.5,2.5,2.5s2.5-1.1216,2.5-2.5v-6.0859l1.707-1.707c0.3906-0.3906,0.3906-1.0234,0-1.4141    S21.6836,7.9023,21.293,8.293z M4,21V6.229C4,5,5,4,6.2295,4h4.541C12,4,13,5,13,6.229v0.7226    C12.9991,6.9686,12.9902,6.9828,12.9902,7S12.9991,7.0314,13,7.0484V21H4z"/><path d="M10,7H7C6.4473,7,6,7.4478,6,8s0.4473,1,1,1h3c0.5527,0,1-0.4478,1-1S10.5527,7,10,7z"/></g></g></svg></button></li>
          <!--M&B--><li><button id="mass_and_balance" class="navButton"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="icon" viewBox="0 0 24 24" data-name="025_SCIENCE" id="_025_SCIENCE"><defs><style>.cls-1{fill:currentColor;}</style></defs><path class="cls-1" d="M12,13H3a1,1,0,0,1-1-1A10,10,0,0,1,12,2a1,1,0,0,1,1,1v9A1,1,0,0,1,12,13ZM4.06,11H11V4.06A8,8,0,0,0,4.06,11Z"/><path class="cls-1" d="M12,22a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1h9a1,1,0,0,1,1,1A10,10,0,0,1,12,22Zm1-9v6.94A8,8,0,0,0,19.94,13Z"/><path class="cls-1" d="M20.05,9a1,1,0,0,1-.89-.55,8,8,0,0,0-3.61-3.61A1,1,0,0,1,15.1,3.5a1,1,0,0,1,1.35-.45A10.2,10.2,0,0,1,21,7.55,1,1,0,0,1,20.05,9Z"/><path class="cls-1" d="M8,21.05a1,1,0,0,1-.45-.1,10.2,10.2,0,0,1-4.5-4.5A1,1,0,0,1,3.5,15.1a1,1,0,0,1,1.34.45,8,8,0,0,0,3.61,3.61A1,1,0,0,1,8,21.05Z"/></svg></button></li>
          <!--performance--><li><button id="performance" class="navButton"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="icon" xmlns:xlink="http://www.w3.org/1999/xlink" style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve"><style type="text/css">.st0{opacity:0.2;fill:currentColor;stroke:#000000;stroke-width:5.000000e-02;stroke-miterlimit:10;}</style><g id="Layer_Grid"/><g id="Layer_2"><path d="M21.5,7.5C21,7,20.4,6.8,19.8,6.9l-0.6,0C17.5,7,16,7.5,14.7,8.4l-6.6-3c-0.3-0.1-0.6-0.1-0.9,0L4.6,6.9   C4.3,7.1,4.1,7.4,4.1,7.7s0.1,0.6,0.4,0.9l4.8,4l-1.5,1.2l-2.4-1c-0.3-0.1-0.6-0.1-0.9,0l-1.7,1c-0.3,0.2-0.5,0.5-0.5,0.8   s0.1,0.7,0.4,0.9L5,17.3c0.8,0.6,1.8,1,2.8,1c0.8,0,1.5-0.2,2.2-0.6l11.1-6.3c0.8-0.4,1.2-1.3,1.2-2.2c0,0,0,0,0,0   C22.2,8.5,22,7.9,21.5,7.5z M20.1,9.6L9,15.9c-0.9,0.5-2,0.4-2.8-0.2l-1.2-1l0,0l2.5,1.1c0.3,0.1,0.7,0.1,1-0.1l3-2.3   c0.2-0.2,0.4-0.5,0.4-0.8c0-0.3-0.1-0.6-0.4-0.8L6.8,7.9l0.9-0.5l6.6,3.1c0.3,0.2,0.7,0.1,1-0.1c1.1-0.9,2.5-1.4,3.9-1.5l0.6,0   c0.1,0,0.2,0,0.3,0.1c0,0,0.1,0.1,0.1,0.3C20.3,9.4,20.2,9.5,20.1,9.6z"/></g></svg></button></li>
          <hr size="3.5" color="#cdcdcd" noshade>
          <!--settings--><li><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="settings" fill="currentColor" style="cursor: pointer;" onclick="window.open('settings', '_self')" style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve"><g id="info"/><g id="icons"><path d="M22.2,14.4L21,13.7c-1.3-0.8-1.3-2.7,0-3.5l1.2-0.7c1-0.6,1.3-1.8,0.7-2.7l-1-1.7c-0.6-1-1.8-1.3-2.7-0.7   L18,5.1c-1.3,0.8-3-0.2-3-1.7V2c0-1.1-0.9-2-2-2h-2C9.9,0,9,0.9,9,2v1.3c0,1.5-1.7,2.5-3,1.7L4.8,4.4c-1-0.6-2.2-0.2-2.7,0.7   l-1,1.7C0.6,7.8,0.9,9,1.8,9.6L3,10.3C4.3,11,4.3,13,3,13.7l-1.2,0.7c-1,0.6-1.3,1.8-0.7,2.7l1,1.7c0.6,1,1.8,1.3,2.7,0.7L6,18.9   c1.3-0.8,3,0.2,3,1.7V22c0,1.1,0.9,2,2,2h2c1.1,0,2-0.9,2-2v-1.3c0-1.5,1.7-2.5,3-1.7l1.2,0.7c1,0.6,2.2,0.2,2.7-0.7l1-1.7   C23.4,16.2,23.1,15,22.2,14.4z M12,16c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4s4,1.8,4,4C16,14.2,14.2,16,12,16z"/></g></svg></li>
        </ul>
    </nav>
    
    <!--Selection overlay-->
    <nav id="NAVoverlay">
      <div class="label" id="dashboardLABEL">Dashboard</div>
      <div class="label" id="routeLABEL">Route</div>
      <div class="label" id="weatherLABEL">Weather</div>
      <div class="label" id="navLABEL">Navigation Log</div>
      <div class="label" id="fuelLABEL">Fuel</div>
      <div class="label" id="mass_and_balanceLABEL">Mass & Balance</div>
      <div class="label" id="performanceLABEL">Performance</div>
      <div class="label" id="settingsLABEL">Settings</div>
    </nav>

    <main>
        {% block content %} <!--content in this element can be changed in inherited pages-->

        {% endblock %}
    </main>
  </body>

  
  <!--Navlog PDF template-->
  <div id="navlogPDF_template">
    <div id="navlog_pdf_header">
      <!--Logo-->
      <div>
          <span id="logoAI_pdf" style="font-size: 70px;">AI</span>
          <span id="logoVFR_pdf" style="font-size: 70px;">VFR</span>
          <p style="margin-top: -16px; font-size: 14px;"><b>AI ASSISTED FLIGHT PLANNING</b></p>
      </div>
      <h2 style="color: #000000;">Navigation Log</h2>
    </div>

    <div id="navlog_pdf_content" class="light_mode" style="padding: 20px 0;"></div>

    <div id="navlog_pdf_footer" class="light_mode">
      <p><em>FOR EDUCATIONAL PURPOSES ONLY. MUST NOT BE USED IN REAL WORLD FLIGHT OPERATIONS</em></p>
      <p><span id="navlog_pdf_dateAndTime"></span> | <b>www.aivfr.co.uk</b></p>
    </div>
  </div>

  <!--Base PDF template-->
  <div id="BasePDF_template">
    <div id="base_pdf_header">
      <!--Logo-->
      <div>
        <span id="logoAI_pdf" style="font-size: 70px;">AI</span>
        <span id="logoVFR_pdf" style="font-size: 70px;">VFR</span>
        <p style="margin-top: -16px; font-size: 12px;"><b>AI ASSISTED FLIGHT PLANNING</b></p>
      </div>
      <h2 style="color: #000000;">Flight Plan</h2>
    </div>
    
    <!--Content-->
    <div id="base_pdf_content" class="light_mode" style="padding: 20px 0;">
<!-------------ROUTE-------------->
      <div class="pdf_title">ROUTE</div>
      <div id="pdf_route_content" class="pdf_content">
        <div> <!--FROM-->
          <b>FROM</b>
          <div class="container"><b>{{ flight.departureAirport_code }}</b> {{ flight.departureAirport_name if flight.departureAirport_name else 'NONE' }}</div>
        </div>

        <!--TIME & DISTANCE-->
        <p>{{ flight.distance.output }} <b>|</b> {{ flight.time }}</p>
        <img  id="plane_icon" src="../static/FPWT_images/planeSillouette.png" alt="plane icon">

        <div> <!--TO-->
          <b>TO</b>
          <div class="container"><b>{{ flight.destinationAirport_code }}</b> {{ flight.destinationAirport_name if flight.destinationAirport_name else 'NONE' }}</div>
        </div>
      </div>

      <div style="display: flex; justify-content: center; margin-top: 30px; text-align: center;">
        <div>
          <b>ALTERNATE</b>
          <div class="container" style="background-color: var(--alternate);"><b>{{ flight.alternateAirport_code }}</b> {{ flight.alternateAirport_name if flight.alternateAirport_name else 'NONE' }}</div>
        </div>
      </div>
    
      <!---WAYPOINTS-->
      <div style="display: flex; justify-content: center;">
        <div class="container" style="margin-top: 30px; width: 75%; min-height: 120px;">
          {{ ' ➔ '.join(flight.route_names) if flight.route_names else 'No Route Data' }}
        </div>
      </div>
  <!--------AIRCRAFT DETAILS-------->
      <div class="pdf_title" style="margin-top: 30px;">AIRCRAFT DETAILS</div>
      <div id="pdf_aircraft_details" style="display: flex; justify-content: center; gap: 70px; margin-top: 20px;">
        <div>
          <p>Type: <b>{{ flight.aircraft }}</b></p>
          <p>MTOW: <b>{{ flight.MTOW.output }}</b></p>
          <p>MLW: <b>{{ flight.MLW.output }}</b></p>
        </div>
        <div>
          <p>Max Tank Capacity: <b>{{ flight.max_tank_capacity.output }}</b></p>
          <p>Fuel Burn: <b>{{ flight.fuel_burn.output }}</b></p>
        </div>
      </div>

  <!-------------FUEL-------------->
      <div class="no-split">
        <div class="pdf_title" style="margin-top: 30px;">FUEL</div>
        <!--FUEL POLICIES-->
        <table id="fuel_policy_table">
          <thead>
            <tr>
              <th>Element</th>
              <th>Policy</th>
              <th>Time Allowed (mins)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Trip</td>
              <td><div>{{ flight.fuelPolicy_trip.policy }}</div></td>
              <td><b>{{ flight.fuelPolicy_trip.time_allowed }}</b>
            </tr>
            <tr>
              <td>Contingency</td>
              <td><div>{{ flight.fuelPolicy_contingency.policy }}</div></td>
              <td><b>{{ flight.fuelPolicy_contingency.time_allowed }}</b>
            </tr>
            <tr>
              <td>Alternate</td>
              <td><div>{{ flight.fuelPolicy_alternate.policy }}</div></td>
              <td><b>{{ flight.fuelPolicy_alternate.time_allowed }}</b>
            </tr>
            <tr>
              <td>Final Reserve</td>
              <td><div>{{ flight.fuelPolicy_finalReserve.policy }}</div></td>
              <td><b>{{ flight.fuelPolicy_finalReserve.time_allowed }}</b>
            </tr>
            <tr>
              <td>Additional</td>
              <td><div>{{ flight.fuelPolicy_additional.policy }}</div></td>
              <td><b>{{ flight.fuelPolicy_additional.time_allowed }}</b>
            </tr>
          </tbody>
        </table>

          <div class="page-break"></div>

          <!--FUEL REQUIRED-->
          <h2 style="text-align: center; margin-top: 30px;">Fuel Required</h2>
          <div id="pdf_fuel_required" style="display: flex; justify-content: center; gap: 70px;">
            <div>
              <p>Taxi: <b>{{ flight.fuel_taxi.output }}</b></p>
              <p>Trip: <b>{{ flight.fuel_trip.output }}</b></p>
              <p>Contingency: <b>{{ flight.fuel_contingency.output }}</b></p>
            </div>
            <div>
              <p>Alternate: <b>{{ flight.fuel_alternate.output }}</b></p>
              <p>Final Reserve: <b>{{ flight.fuel_finalReserve.output }}</b></p>
              <p>Additional: <b>{{ flight.fuel_additional.output }}</b></p>
              <p>Extra: <b>{{ flight.fuel_extra.output }}</b></p>
            </div>
          </div>
          <!--Fuel totals-->
          <div id="pdf_fuel_totals" style="display: flex; justify-content: center; gap: 70px; margin-top: 20px;">
            <div class="container"><b>Total: {{ flight.fuel_total.output }}</b></div>
            <div class="container"><b>Mass: {{ flight.fuel_mass.output }}</b></div>
            <div class="container"><b>Endurance: {{ flight.fuel_endurance }}</b></div>
          </div>
      </div>
    <!-------------MASS & BALANCE-------------->
        <div class="no-split">
          <div class="pdf_title" style="margin-top: 30px;">MASS & BALANCE</div>
          <!--LOADING TABLE-->
          <h2 style="text-align: center; margin-top: 30px;">Loading Table</h2>
          <table id="loading_table">
            <thead>
              <tr>
                <th>Item</th>
                <th>Weight</th>
                <th>Arm (in)</th>
                <th>Moment</th>
              </tr>
            </thead>
            <tbody id="moments_table1" class="active">
              <tr>
                <td>Basic Empty</td>
                <td><p>{{ flight.weight_items.basic_empty.weight.value|round(1) if flight.weight_items.basic_empty.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.basic_empty.arm if flight.weight_items.basic_empty.arm != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.basic_empty.moment if flight.weight_items.basic_empty.moment != 0 else '' }}</p></td>
              </tr>
              <tr>
                <td>Oil</td>
                <td><p>{{ flight.weight_items.oil.weight.value|round(1) if flight.weight_items.oil.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.oil.arm if flight.weight_items.oil.arm != 0 else '' }}</p></td>
                <td id="moment_oil">{{ flight.weight_items.oil.moment if flight.weight_items.oil.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Pilot 1</td>
                <td><p>{{ flight.weight_items.pilot1.weight.value|round(1) if flight.weight_items.pilot1.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.pilot1.arm if flight.weight_items.pilot1.arm != 0 else '' }}</p></td>
                <td id="moment_pilot1">{{ flight.weight_items.pilot1.moment if flight.weight_items.pilot1.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Pilot 2</td>
                <td><p>{{ flight.weight_items.pilot2.weight.value|round(1) if flight.weight_items.pilot2.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.pilot2.arm if flight.weight_items.pilot2.arm != 0 else '' }}</p></td>
                <td id="moment_pilot2">{{ flight.weight_items.pilot2.moment if flight.weight_items.pilot2.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>PAX 1</td>
                <td><p>{{ flight.weight_items.PAX1.weight.value|round(1) if flight.weight_items.PAX1.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.PAX1.arm if flight.weight_items.PAX1.arm != 0 else '' }}</p></td>
                <td id="moment_PAX1">{{ flight.weight_items.PAX1.moment if flight.weight_items.PAX1.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>PAX 2</td>
                <td><p>{{ flight.weight_items.PAX2.weight.value|round(1) if flight.weight_items.PAX2.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.PAX2.arm if flight.weight_items.PAX2.arm != 0 else '' }}</p></td>
                <td id="moment_PAX2">{{ flight.weight_items.PAX2.moment if flight.weight_items.PAX2.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Baggage section 1</td>
                <td><p>{{ flight.weight_items.baggage1.weight.value|round(1) if flight.weight_items.baggage1.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.baggage1.arm if flight.weight_items.baggage1.arm != 0 else '' }}</p></td>
                <td id="moment_baggage1">{{ flight.weight_items.baggage1.moment if flight.weight_items.baggage1.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Baggage section 2</td>
                <td><p>{{ flight.weight_items.baggage2.weight.value|round(1) if flight.weight_items.baggage2.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.baggage2.arm if flight.weight_items.baggage2.arm != 0 else '' }}</p></td>
                <td id="moment_baggage2">{{ flight.weight_items.baggage2.moment if flight.weight_items.baggage2.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Fuel load: Tank 1</td>
                <td><p>{{ flight.weight_items.fuel_load1.weight.value|round(1) if flight.weight_items.fuel_load1.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.fuel_load1.arm if flight.weight_items.fuel_load1.arm != 0 else '' }}</p></td>
                <td id="moment_fuel_load1">{{ flight.weight_items.fuel_load1.moment if flight.weight_items.fuel_load1.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Fuel load: Tank 2</td>
                <td><p>{{ flight.weight_items.fuel_load2.weight.value|round(1) if flight.weight_items.fuel_load2.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.fuel_load2.arm if flight.weight_items.fuel_load2.arm != 0 else '' }}</p></td>
                <td id="moment_fuel_load2">{{ flight.weight_items.fuel_load2.moment if flight.weight_items.fuel_load2.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Fuel burned on ground: Tank 1</td>
                <td><p>{{ flight.weight_items.fuel_ground_burned1.weight.value|round(1) if flight.weight_items.fuel_ground_burned1.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.fuel_ground_burned1.arm if flight.weight_items.fuel_ground_burned1.arm != 0 else '' }}</p></td>
                <td id="moment_fuel_ground_burned1">{{ flight.weight_items.fuel_ground_burned1.moment if flight.weight_items.fuel_ground_burned1.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Fuel burned on ground: Tank 2</td>
                <td><p>{{ flight.weight_items.fuel_ground_burned2.weight.value|round(1) if flight.weight_items.fuel_ground_burned2.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.fuel_ground_burned2.arm if flight.weight_items.fuel_ground_burned2.arm != 0 else '' }}</p></td>
                <td id="moment_fuel_ground_burned2">{{ flight.weight_items.fuel_ground_burned2.moment if flight.weight_items.fuel_ground_burned2.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Fuel burned in flight: Tank 1</td>
                <td><p>{{ flight.weight_items.fuel_flight_burned1.weight.value|round(1) if flight.weight_items.fuel_flight_burned1.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.fuel_flight_burned1.arm if flight.weight_items.fuel_flight_burned1.arm != 0 else '' }}</p></td>
                <td id="moment_fuel_flight_burned1">{{ flight.weight_items.fuel_flight_burned1.moment if flight.weight_items.fuel_flight_burned1.moment != 0 else '' }}</td>
              </tr>
              <tr>
                <td>Fuel burned in flight: Tank 2</td>
                <td><p>{{ flight.weight_items.fuel_flight_burned2.weight.value|round(1) if flight.weight_items.fuel_flight_burned2.weight.value != 0 else '' }}</p></td>
                <td><p>{{ flight.weight_items.fuel_flight_burned2.arm if flight.weight_items.fuel_flight_burned2.arm != 0 else '' }}</p></td>
                <td id="moment_fuel_flight_burned2">{{ flight.weight_items.fuel_flight_burned2.moment if flight.weight_items.fuel_flight_burned2.moment != 0 else '' }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="page-break"></div>
        <!--CG TABLE-->
        <div class="no-split">
          <h2 style="text-align: center; margin-top: 30px;">Totals and CG</h2>
          <table id="CG_table">
            <thead>
              <tr>
                <th>Condition</th>
                <th>Weight</th>
                <th>Moment</th>
                <th>C/G</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Basic</td>
                <td><span id="basic_weight">{{ flight.CG_calculations.basic_condition.weight.value if flight.CG_calculations.basic_condition.weight.value != 0 else '' }}</span></td>
                <td><span id="basic_moment">{{ flight.CG_calculations.basic_condition.moment if flight.CG_calculations.basic_condition.moment != 0 else '' }}</span></td>
                <td><span id="basic_CG">{{ flight.CG_calculations.basic_condition.CG|round(2) if flight.CG_calculations.basic_condition.CG != 0 else '' }}</span></td>
              </tr>
              <tr>
                <td>Zero-Fuel</td>
                <td><span id="zero_fuel_weight">{{ flight.CG_calculations.zero_fuel_condition.weight.value if flight.CG_calculations.zero_fuel_condition.weight.value != 0 else '' }}</span></td>
                <td><span id="zero_fuel_moment">{{ flight.CG_calculations.zero_fuel_condition.moment if flight.CG_calculations.zero_fuel_condition.moment != 0 else '' }}</span></td>
                <td><span id="zero_fuel_CG">{{ flight.CG_calculations.zero_fuel_condition.CG|round(2) if flight.CG_calculations.zero_fuel_condition.CG != 0 else '' }}</span></td>
              </tr>
              <tr>
                <td>Ramp</td>
                <td><span id="ramp_weight">{{ flight.CG_calculations.ramp_condition.weight.value if flight.CG_calculations.ramp_condition.weight.value != 0 else '' }}</span></td>
                <td><span id="ramp_moment">{{ flight.CG_calculations.ramp_condition.moment if flight.CG_calculations.ramp_condition.moment != 0 else '' }}</span></td>
                <td><span id="ramp_CG">{{ flight.CG_calculations.ramp_condition.CG|round(2) if flight.CG_calculations.ramp_condition.CG != 0 else '' }}</span></td>
              </tr>
              <tr>
                <td>Takeoff</td>
                <td><span id="takeoff_weight">{{ flight.CG_calculations.takeoff_condition.weight.value if flight.CG_calculations.takeoff_condition.weight.value != 0 else '' }}</span></td>
                <td><span id="takeoff_moment">{{ flight.CG_calculations.takeoff_condition.moment if flight.CG_calculations.takeoff_condition.moment != 0 else '' }}</span></td>
                <td><span id="takeoff_CG">{{ flight.CG_calculations.takeoff_condition.CG|round(2) if flight.CG_calculations.takeoff_condition.CG != 0 else '' }}</span></td>
              </tr>
              <tr>
                <td>Landing</td>
                <td><span id="landing_weight">{{ flight.CG_calculations.landing_condition.weight.value if flight.CG_calculations.landing_condition.weight.value != 0 else '' }}</span></td>
                <td><span id="landing_moment">{{ flight.CG_calculations.landing_condition.moment if flight.CG_calculations.landing_condition.moment != 0 else '' }}</span></td>
                <td><span id="landing_CG">{{ flight.CG_calculations.landing_condition.CG|round(2) if flight.CG_calculations.landing_condition.CG != 0 else '' }}</span></td>
              </tr>
            </tbody>
          </table>
        </div>
  <!-------------PERFORMANCE-------------->
        <div class="pdf_title" style="margin-top: 30px;">PERFORMANCE</div>
          <div id="performance_content" style="display: flex; justify-content: center; gap: 70px; margin-top: 20px;">
            <div class="container">
              <p>Takeoff distance required: <b>{{ flight.TODR }}</b></p>
              <p>Landing distance required: <b>{{ flight.LDR }}</b></p>
            </div>
            <div class="container">
              <p>Takeoff distance available: <b>{{ flight.TODA }}</b></p>
              <p>Landing distance available: <b>{{ flight.LDA }}</b></p>
            </div>
        </div>
        <div class="page-break"></div>
  <!-------------WEATHER-------------->
        <div class="no-split">
          <div class="pdf_title" style="margin-top: 30px;">WEATHER</div>
          <div id="weather_content" style="margin-top: 20px;">
  
            <!--DEPARTURE WEATHER-->
            <h2 style="text-align: center; margin-top: 20px;">{{ flight.departureAirport_name }}</h2>
            <h3>METAR</h3> 
            <p style="margin-top: 10px; margin-bottom: 10px;" class="container">{{ flight.METAR_departure }}</p>
            <p class="report">{{ flight.METAR_departure_decoded|safe }}</p>
  
            <h3 style="margin-top: 20px;">TAF</h3>
            <p style="margin-top: 10px; margin-bottom: 10px;" class="container">{{ flight.TAF_departure }}</p>
            <p class="report">{{ flight.TAF_departure_decoded|safe }}</p>
  
            <!--ARRIVAL WEATHER-->
            <h2 style="text-align: center; margin-top: 20px;">{{ flight.destinationAirport_name }}</h2>
            <h3>METAR</h3>
            <p style="margin-top: 10px; margin-bottom: 10px;" class="container">{{ flight.METAR_arrival }}</p>
            <p class="report">{{ flight.METAR_arrival_decoded|safe }}</p>
  
            <h3 style="margin-top: 20px;">TAF</h3>
            <p style="margin-top: 10px; margin-bottom: 10px;" class="container">{{ flight.TAF_arrival }}</p>
            <p class="report">{{ flight.TAF_arrival_decoded|safe }}</p>
          </div>
        </div>
        <div class="page-break"></div>
    <!-------------EXPENSES-------------->
        <div class="pdf_title" style="margin-top: 30px;">EXPENSES</div>
        <div id="expenses_content" style="margin-top: 20px;">
          <ul>
            {% for expense in flight.expenses %}
              <li><b>{{ expense[0]}}: </b> £{{ expense[1] }}</li>
            {% endfor %}
          </ul>
        </div>
        <div class="page-break"></div>
    <!-------------BREIF-------------->
        <div class="pdf_title" style="margin-top: 30px;">BRIEFING</div>
        <div class="no-split" id="briefing_content" style="margin-top: 20px;">
          <p class="report no-split">{{ flight.brief|safe }}</p>
        </div>
    </div>
    <div id="base_pdf_footer" class="light_mode">
      <p style="font-weight: 400;"><i>FOR EDUCATIONAL PURPOSES ONLY. MUST NOT BE USED IN REAL WORLD FLIGHT OPERATIONS</i></p>
      <p><span style="font-weight: 400;" id="base_pdf_dateAndTime"></span> | <b>www.aivfr.co.uk</b></p>
    </div>
  </div>
</html>


