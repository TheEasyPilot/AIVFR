<!DOCTYPE html>
<html lang='en'>
  <head>
    <!--Getting the Manrope font from google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">

    <meta charset='UTF-8'name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Settings - AIVFR</title>
    <link rel="stylesheet" href="../static/base.css"/>
    <link rel="stylesheet" href="../static/components.css"/>
    <link rel="stylesheet" href="../static/settings.css">
    <link rel="icon" type="image/png" href="../static/FPWT_images/planeSillouette.png">
    <script type='module' src="../static/settings.js"></script>
    <script src="../static/base.js" defer></script>
  </head>
  <body class="{{ 'dark-mode' if settings.theme == 'dark' else '' }}"> <!--check and set correct theme-->
<!--=============================HEADER==========================-->
    <header>
      <!--Go back arrow icon--> 
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" id="goBack" onclick="fetch('/units-update').then(() => { goBack(); });" style="cursor: pointer;"><defs><style>.cls-1{fill:none;}</style></defs><title/><g data-name="Layer 2" id="Layer_2"><path d="M13,26a1,1,0,0,1-.71-.29l-9-9a1,1,0,0,1,0-1.42l9-9a1,1,0,1,1,1.42,1.42L5.41,16l8.3,8.29a1,1,0,0,1,0,1.42A1,1,0,0,1,13,26Z"/><path d="M28,17H4a1,1,0,0,1,0-2H28a1,1,0,0,1,0,2Z"/></g><g id="frame"><rect class="cls-1" height="32" width="32"/></g></svg>

      <script>
        //function to go back to the previous page with reload (for theme update)
      async function goBack() {
          const response = await fetch('/get-settings');
          const settings = await response.json();
          const currentPage = settings.current_page;
          window.location.href = currentPage;
      } 
      </script>

      <span>
        <!--title ('settings')-->
        <div id="settings">Settings</div>
      </span>
      <span id="alertBox"></span>
    </header>
<!--=============================BODY==========================-->
    <div id="options">
      <!--Light/dark toggle-->
      <h2>THEME</h2>
      <button id="lightToggle">Light</button>
      <span><button id="darkToggle">Dark</button></span>

      <!--Map style toggle-->
      <h2>MAP STYLE</h2>
      <button id="Normal" class="{{ 'active' if settings.map_style == 'normal' else '' }}">Normal</button>
      <span><button id="Satellite" class="{{ 'active' if settings.map_style == 'satellite' else '' }}">Satellite</button></span>

      <br>
      <!--Units-->
      <h2>UNITS</h2>
      <div id="baseUnits">
          <button id="imperial" style="margin-right: 7px;" class="{{ 'active' if settings.base_units == 'imperial' else '' }}">Imperial</button>
          <span><button id="metric" class="{{ 'active' if settings.base_units == 'metric' else '' }}">Metric</button></span>
      </div>

      <h3>Custom<svg id="customDropdown" width="30px" height="20px" viewBox="0 0 24 24" fill="CurrentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7071 14.7071C12.3166 15.0976 11.6834 15.0976 11.2929 14.7071L6.29289 9.70711C5.90237 9.31658 5.90237 8.68342 6.29289 8.29289C6.68342 7.90237 7.31658 7.90237 7.70711 8.29289L12 12.5858L16.2929 8.29289C16.6834 7.90237 17.3166 7.90237 17.7071 8.29289C18.0976 8.68342 18.0976 9.31658 17.7071 9.70711L12.7071 14.7071Z" fill="CurrentColor"/></svg></h3>
      <div id="UnitsButtons">
        <div> <!--AIRSPEED-->
          <button style="display: block;" id="airspeed" class="dropdown">Airspeed</button>
          <div id="airspeed_options" style="display: none;">
            <button style="display: block;" id="knots" class="{{ 'active' if settings.units_airspeed == 'knot' else '' }} unit">Knots</button>
            <button style="display: block;" id="mph" class="{{ 'active' if settings.units_airspeed == 'mile_per_hour' else '' }} unit">MPH</button>
            <button style="display: block;" id="kmph" class="{{ 'active' if settings.units_airspeed == 'kilometer_per_hour' else '' }} unit">KM/H</button>
          </div>
        </div>
    
        <div> <!--ALTITUDE-->
          <button style="display: block;" id="altitude" class="dropdown">Altitude</button>
          <div id="altitude_options" style="display: none;">
            <button style="display: block;" id="feet" class="{{ 'active' if settings.units_altitude == 'feet' else '' }} unit">Feet (ft)</button>
            <button style="display: block;" id="metres" class="{{ 'active' if settings.units_altitude == 'metre' else '' }} unit">Metres (m)</button>
          </div>
        </div>
  
        <div> <!--MASS-->
          <button style="display: block;" id="mass" class="dropdown">Mass</button>
          <div id="mass_options" style="display: none;">
            <button style="display: block;" id="kg" class="{{ 'active' if settings.units_mass == 'kilogram' else '' }} unit">Kilograms (kg)</button>
            <button style="display: block;" id="pounds" class="{{ 'active' if settings.units_mass == 'pound' else '' }} unit">Pounds (lbs)</button>
          </div>
        </div>
  
        <div> <!--FUEL-->
          <button style="display: block;" id="fuel" class="dropdown">Fuel</button>
          <div id="fuel_options" style="display: none;">
            <button style="display: block;" id="litres" class="{{ 'active' if settings.units_fuel == 'litre' else '' }} unit">Litres (l)</button>
            <button style="display: block;" id="gallons" class="{{ 'active' if settings.units_fuel == 'US_liquid_gallon' else '' }} unit">US Gallons (gal)</button>
          </div>
        </div>
  
        <div> <!--DISTANCE-->
          <button style="display: block;" id="distance" class="dropdown">Distance</button>
          <div id="distance_options" style="display: none;">
            <button style="display: block;" id="nautical_miles" class="{{ 'active' if settings.units_distance == 'nautical_mile' else '' }} unit">Nautical Miles (NM)</button>
            <button style="display: block;" id="kilometres" class="{{ 'active' if settings.units_distance == 'kilometer' else '' }} unit">Kilometers (km)</button>
            <button style="display: block;" id="statute_miles" class="{{ 'active' if settings.units_distance == 'us_statute_mile' else '' }} unit">Statute Miles</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

